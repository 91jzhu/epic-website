{"version":3,"file":"static/js/107.a40f4f21.chunk.js","mappings":"iNAOMA,GAAQC,EAAAA,EAAAA,KAAS,WACnB,IAAOC,GAAaC,EAAAA,EAAAA,KAAbD,UACDE,GAAEC,EAAAA,EAAAA,MAyBR,OACI,SAACC,EAAD,WACI,UAACC,EAAD,YACI,0CACA,UAAC,IAAD,CACIC,KAAK,QACLC,SAAU,CAACC,KAAM,GACjBC,WAAY,CAACD,KAAM,IACnBE,SAhCC,SAACC,GAEdX,EAAUY,YAAYD,EAAOE,UAC7Bb,EAAUc,YAAYH,EAAOI,UAC7Bf,EAAUgB,QAAQC,MAAK,WACnBC,QAAQC,IAAI,0DACZjB,EAAE,QACJ,WACEgB,QAAQC,IAAI,kDAyBJC,eArBO,SAACC,GACpBH,QAAQC,IAAI,UAAWE,IAqBXC,aAAa,MANjB,WAQI,SAAC,SAAD,CACIC,MAAM,qBACNjB,KAAK,WACLkB,MAAO,CAAC,CAACC,UAAU,EAAMC,QAAS,wCAAU,CAACC,UAxB1C,SAACC,EAASC,GAC7B,MAAI,qBAAqBC,KAAKD,GAG3BA,EAAME,OAAO,GAAGF,EAAME,OAAO,GACrBC,QAAQC,OAAO,8CAEnBD,QAAQE,UALJF,QAAQC,OAAO,+EAmBd,UAKI,SAAC,IAAD,OAGJ,SAAC,SAAD,CACIV,MAAM,eACNjB,KAAK,WACLkB,MAAO,CACH,CAACC,UAAU,EAAMC,QAAS,kCAC1B,CAACS,IAAI,EAAET,QAAQ,qCACf,CAACU,IAAI,GAAGV,QAAQ,uCANxB,UASI,SAAC,aAAD,OAGJ,SAAC,SAAD,CAAWjB,WAAY,CAAC4B,OAAQ,EAAG7B,KAAM,IAAzC,UACI,SAAC,IAAD,CAAQ8B,KAAK,UAAUC,SAAS,SAAhC,iCASlBnC,EAAQoC,EAAAA,GAAAA,IAAD,oJAQPnC,EAAMmC,EAAAA,GAAAA,IAAD,0KAUX","sources":["pages/Login.tsx"],"sourcesContent":["import {observer} from \"mobx-react\";\r\nimport {useStores} from \"../store\";\r\nimport React from \"react\";\r\nimport {Form, Input, Button} from 'antd';\r\nimport styled from \"styled-components\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nconst Login = observer(() => {\r\n    const {AuthStore} = useStores()\r\n    const h=useNavigate()\r\n    const onFinish = (values: any) => {\r\n        // console.log('Success:', values);\r\n        AuthStore.setUserName(values.username)\r\n        AuthStore.setPassWord(values.password)\r\n        AuthStore.login().then(()=>{\r\n            console.log('登录成功，跳转首页')\r\n            h('/')\r\n        },()=>{\r\n            console.log('登录失败，不动')\r\n        })\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo: any) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n    const validateUserName=(rule:any,value:any)=>{\r\n        if(!/^[0-9a-zA-Z_]{1,}$/.test(value)){\r\n            return Promise.reject('只能为数字，字母或下划线')\r\n        }\r\n        if(value.length<4||value.length>10){\r\n            return Promise.reject('长度为 4-10 个字符')\r\n        }\r\n        return Promise.resolve()\r\n    }\r\n    return (\r\n        <Wrapper>\r\n            <Forms>\r\n                <h2>登录</h2>\r\n                <Form\r\n                    name=\"basic\"\r\n                    labelCol={{span: 6}}\r\n                    wrapperCol={{span: 15}}\r\n                    onFinish={onFinish}\r\n                    onFinishFailed={onFinishFailed}\r\n                    autoComplete=\"off\"\r\n                >\r\n                    <Form.Item\r\n                        label=\"用户名\"\r\n                        name=\"username\"\r\n                        rules={[{required: true, message: '请输入用户名'},{validator:validateUserName}]}\r\n                    >\r\n                        <Input/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"密码\"\r\n                        name=\"password\"\r\n                        rules={[\r\n                            {required: true, message: '请输入密码'},\r\n                            {min:4,message:'最少 5 个字符'},\r\n                            {max:10,message:'最大 10 个字符'}\r\n                        ]}\r\n                    >\r\n                        <Input.Password/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item wrapperCol={{offset: 6, span: 15}}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Forms>\r\n        </Wrapper>\r\n    )\r\n})\r\nconst Wrapper=styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex:1;\r\n  width:900px;\r\n`\r\nconst Forms=styled.div`\r\n  box-shadow:2px 2px 2px lightgrey,-1px -1px 1px lightgrey;\r\n  height:30vh;\r\n  width:40vw;\r\n  padding:12px;\r\n  h2{\r\n    text-align: center;\r\n  }\r\n`\r\n\r\nexport default Login"],"names":["Login","observer","AuthStore","useStores","h","useNavigate","Wrapper","Forms","name","labelCol","span","wrapperCol","onFinish","values","setUserName","username","setPassWord","password","login","then","console","log","onFinishFailed","errorInfo","autoComplete","label","rules","required","message","validator","rule","value","test","length","Promise","reject","resolve","min","max","offset","type","htmlType","styled"],"sourceRoot":""}